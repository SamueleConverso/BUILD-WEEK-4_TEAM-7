@model CartViewModel
@{
	ViewData["Title"] = "Checkout Page";
	// Console.WriteLine("Carrello");
	// foreach (var item in Model.CartProducts)
	// {
	// 	Console.WriteLine(item.ProductName);
	// }
}

@{
	foreach (var cartProductChekOut in Model.CartProducts)
	{
		<div class="card mb-3 p-3">
			<div class="row g-0">
				<div class="col-md-1">
					<img src="@cartProductChekOut.ImageURL" class="img-fluid rounded-start" alt="immagine prodotto" style="max-height: 70px">
				</div>
				<div class="col-md-11">
					<div class="card-body row">
						<h5 class="card-title text-start col-md-6">@cartProductChekOut.ProductName</h5>
						<p class="card-text col-md-2">@cartProductChekOut.Price.ToString("C")</p>
						<p class="card-text col-md-2">@cartProductChekOut.Quantity</p>
						<a class="btn btn-danger col-md-1" style="width: fit-content" asp-controller="Cart" asp-action="RemoveFromCheckOut" asp-route-DeleteProductId="@cartProductChekOut.IdProduct"> <img class="mb-1" src="~/img/trash2.svg" /></a>
					</div>
				</div>
			</div>
		</div>
		
	}
	
}

@{
	if(Model.TotalPrice != 0)
	{
		<div>
			<h3 class="text-white fw-bold">Checkout: @Model.TotalPrice.ToString("C") </h3>
		</div>

		<form class="form-control" method="get" asp-controller="cart" asp-action="FinalizeCheckout">
			<button type="submit" class="btn btn-home btn-animation" id="btnPaga">Paga!</button>
		</form>
	} else
	{
		<div class="container-fluid text-center">
		<h1 class="sole">LODA IL SOLEEEEEE!!!!</h1>
		</div>
		
	}

}
<span class="row g-0 mt-3">
	<img class="img-fluid rounded carte" src="~/img/TrustPilot.png"  />
	<img class="img-fluid rounded carte" src="~/img/ApplePay1.png"  />
	<img class="img-fluid rounded carte" src="~/img/AmazonPay1.png" />
	<img class="img-fluid rounded carte" src="~/img/Opay.png"/>
	<img class="img-fluid rounded carte" src="~/img/Paypal1.png"/>
	<img class="img-fluid rounded carte" src="~/img/maestro.png"/>
	<img class="img-fluid rounded carte" src="~/img/Mastercard.png"/>
	<img class="img-fluid rounded carte" src="~/img/g_pay.png"/>
	<img class="img-fluid rounded carte" src="~/img/Visa.png"/>
	<img class="img-fluid rounded carte" src="~/img/Amex.png"/>
	<img class="img-fluid rounded carte" src="~/img/BonifBancario.png"/>
	<img class="img-fluid rounded carte" src="~/img/Satispay.png"/>
	<img class="img-fluid rounded carte" src="~/img/Stripe.png"/>
</span>
<script>
	const btnPaga = document.getElementById('btnPaga');

	btnPaga.addEventListener('click', () => {
		alert('Pagamento effettuato con successo!');
	});

</script>